setwd("~/dataprojects/masscannabis")
library(readxl)
State_Application_Process_Data_New <- read_excel("dataprojects/masscannabis/State Application Process Data New.xlsx", col_types = c("date", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric"))
State_Application_Process_Data_New <- read_excel("State Application Process Data New.xlsx", col_types = c("date", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric"))
State_Application_Process_Data_New <- read_excel("State Application Process Data New.xlsx", col_types = c("date", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric"))
View(State_Application_Process_Data_New)
appData <- as.data.frame(State_Application_Process_Data_New)
#Writing data as csv for others use
write.csv(appData, file = "appData.csv")
#Reshaping dataset for input into stacked area
install.packages('reshape')
library(reshape)
appReshape <- melt(appData, id=c("date"))
library(ggplot2)
appStatus <- appReshape[which(appReshape$variable=='pendingApps'
| appReshape$variable=='withdrawnApps'
| appReshape$variable=='incompleteApps'), ]
status <- ggplot(appStatus, aes(x=date, y=value, fill=variable)) +
geom_area(colour="black", size=.2, alpha=.4) +
scale_fill_brewer(palette = "Blues", labels=c("Pending", "Withdrawn", "Incomplete"))
status + labs(x = "Date of Data",
y = "# of Applications",
title = "Cannabis Applications by App Status",
caption = "Data is sourced from Massachusetts Cannabis
Commission.  Pending applications represent an application where
at least 1 part of the application is complete.") +
guides(fill=guide_legend(title=NULL))
appCategory <- appReshape[which(appReshape$variable == 'craftCooperative'
| appReshape$variable == 'cultivator'
| appReshape$variable == 'establishmentAgent'
| appReshape$variable == 'microbusiness'
| appReshape$variable == 'productManufacturer'
| appReshape$variable == 'researchFacility'
| appReshape$variable == 'retailer'
| appReshape$variable == 'transporter'),]
library(ggplot2)
Category <- ggplot(appCategory, aes(x=date, y=value, fill=variable)) +
geom_area(colour="black", size=.2, alpha=.4)
Category + labs(x = "Date of Data",
y = "# of Applications",
title = "Cannabis Applications by License Type",
caption = "Data is sourced from Massachusetts Cannabis
Commission.  The numbers in this chart represent distinct license numbers
that have submitted at least one of the packets
related to getting a license (App of Intent, Background, Management/Ops, Payment)") +
guides(fill=guide_legend(title=NULL)) +
scale_fill_discrete(labels=c('Craft Cooperative', 'Cultivator', 'Establishment Agent',
'Microbusiness', 'Product Manufacturer', 'Research Facility',
'Retailer', 'Transporter'))
appReview <- read_excel("State Application Process Data New.xlsx", sheet="underReview", col_types = c("date", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric"))
View(appReview)
library(reshape)
appReview <- melt(appReview, id=c("date"))
appReview <- read_excel("State Application Process Data New.xlsx", sheet="underReview", col_types = c("date", "numeric", "numeric",
"numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric"))
appReviewshaped <- melt(appReview, id=c("date"))
View(appReview)
appReviewshaped <- melt(appReview, id=c("date"))
appReview <- as.data.frame(appReview)
appReviewshaped <- melt(appReview, id=c("date"))
library(ggplot2)
View(appReviewshaped)
appRevCategory <- appReviewshaped[which(appReshape$variable == 'craftCooperative'
| appReshape$variable == 'cultivator'
| appReshape$variable == 'establishmentAgent'
| appReshape$variable == 'microbusiness'
| appReshape$variable == 'productManufacturer'
| appReshape$variable == 'researchFacility'
| appReshape$variable == 'retailer'
| appReshape$variable == 'transporter'),]
Category <- ggplot(appCategory, aes(x=date, y=value, fill=variable)) +
geom_area(colour="black", size=.2, alpha=.4)
Category + labs(x = "Date of Data",
y = "# of Applications",
title = "Cannabis Applications by Category Under Review",
caption = "Data is sourced from Massachusetts Cannabis
Commission.  The numbers in this chart represent distinct license numbers
that have submitted all packets
related to getting a license (App of Intent, Background, Management/Ops, Payment) and are under official review.") +
guides(fill=guide_legend(title=NULL)) +
scale_fill_discrete(labels=c('Craft Cooperative', 'Cultivator', 'Establishment Agent',
'Microbusiness', 'Product Manufacturer', 'Research Facility',
'Retailer', 'Transporter'))
Review <- ggplot(appRevCategory, aes(x=date, y=value, fill=variable)) +
geom_area(colour="black", size=.2, alpha=.4)
Review + labs(x = "Date of Data",
y = "# of Applications",
title = "Cannabis Applications by Category Under Review",
caption = "Data is sourced from Massachusetts Cannabis
Commission.  The numbers in this chart represent distinct license numbers
that have submitted all packets
related to getting a license (App of Intent, Background, Management/Ops, Payment) and are under official review.") +
guides(fill=guide_legend(title=NULL)) +
scale_fill_discrete(labels=c('Craft Cooperative', 'Cultivator', 'Establishment Agent',
'Microbusiness', 'Product Manufacturer', 'Research Facility',
'Retailer', 'Transporter'))
View(appRevCategory)
View(appReview)
appReviewshaped <- melt(appReview, id=c("date"))
View(appReviewshaped)
appRevCategory <- appReviewshaped[which(appReviewshaped$variable == 'craftCooperative'
| appReviewshaped$variable == 'cultivator'
| appReviewshaped$variable == 'establishmentAgent'
| appReviewshaped$variable == 'microbusiness'
| appReviewshaped$variable == 'productManufacturer'
| appReviewshaped$variable == 'researchFacility'
| appReviewshaped$variable == 'retailer'
| appReviewshaped$variable == 'transporter'),]
library(ggplot2)
Review <- ggplot(appRevCategory, aes(x=date, y=value, fill=variable)) +
geom_area(colour="black", size=.2, alpha=.4)
Review + labs(x = "Date of Data",
y = "# of Applications",
title = "Cannabis Applications by Category Under Review",
caption = "Data is sourced from Massachusetts Cannabis
Commission.  The numbers in this chart represent distinct license numbers
that have submitted all packets
related to getting a license (App of Intent, Background, Management/Ops, Payment) and are under official review.") +
guides(fill=guide_legend(title=NULL)) +
scale_fill_discrete(labels=c('Craft Cooperative', 'Cultivator', 'Establishment Agent',
'Microbusiness', 'Product Manufacturer', 'Research Facility',
'Retailer', 'Transporter'))
reviewBar <- ggplot(appRevCategory, aes(variable))
reviewBar + geom_bar()
reviewBar + geom_bar(aes(fill = variable))
reviewBar <- ggplot(appRevCategory, aes(date))
reviewBar + geom_bar(aes(fill = variable))
reviewBar <- ggplot(appRevCategory, aes(x=date, y=value, fill=variable)) +
geom_bar
reviewBar <- geom_bar(appRevCategory, aes(x=date, y=value, fill=variable))
reviewBar <- ggplot(appRevCategory, aes(date))
reviewBar + geom_bar()
reviewBar <- ggplot(appRevCategory, aes(value))
reviewBar + geom_bar()
reviewBar <- ggplot(appRevCategory, aes(x=date, y=value))
reviewBar + geom_bar()
reviewBar <- ggplot(data = appRevCategory, aes(x = date, y = value, fill = variable)) + geom_bar
library(ggplot2)
reviewBar <- ggplot(data = appRevCategory, aes(x = date, y = value, fill = variable)) + geom_bar
